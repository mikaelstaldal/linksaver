{{define "link"}}
<div class="links-grid-item list-group-item border rounded shadow-sm p-1">
    <div class="links-grid-header d-flex justify-content-between align-items-start">
        <div class="flex-grow-1">
            <h5 class="mb-1"><a href="{{.URL}}" target="_blank" class="text-decoration-none" title="{{.Description}}">{{.Title}}</a></h5>
            <div><a href="{{.URL}}" target="_blank" class="text-decoration-none text-muted small" style="word-break: break-all;">{{.URL}}</a></div>
            <div class="text-muted small">Added: {{.AddedAt}}</div>
        </div>
        <div class="ms-3">
            <button class="btn btn-danger btn-sm"
                    hx-delete="/{{.ID}}"
                    hx-swap="delete swap:1s"
                    hx-target="closest div.list-group-item"
                    _="
                     on htmx:afterRequest
                     if event.detail.failed then
                       put event.detail.xhr.responseText into #error
                       show #error
                     else
                       put '' into #error
                       hide #error
                     end
                   "
            >Delete</button>
        </div>
    </div>
    <div>
        <a href="{{.URL}}" target="_blank" class="text-decoration-none"><img src="screenshots/{{.Screenshot}}" class="img-fluid" alt=""/></a>
    </div>
</div>
{{end}}
